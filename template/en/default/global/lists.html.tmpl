[%#
  # The contents of this file are subject to the Mozilla Public
  # License Version 1.1 (the "License"); you may not use this file
  # except in compliance with the License. You may obtain a copy of
  # the License at http://www.mozilla.org/MPL/
  #
  # Software distributed under the License is distributed on an "AS
  # IS" basis, WITHOUT WARRANTY OF ANY KIND, either express or
  # implied. See the License for the specific language governing
  # rights and limitations under the License.
  #
  # The Original Code is the Scrums Bugzilla Extension.
  #
  # The Initial Developer of the Original Code is "Nokia Corporation"
  # Portions created by the Initial Developer are Copyright (C) 2011 the
  # Initial Developer. All Rights Reserved.
  #
  # Contributor(s):
  #   Eero Heino <eero.heino@nokia.com>
  #%]

<script type="text/JavaScript" src="extensions/Scrums/web/js/jquery/js/jquery-1.4.4.min.js"></script>
<script type="text/JavaScript" src="extensions/Scrums/web/js/jquery/js/jquery-ui-1.8.14.custom.min.js"></script>

<script type="text/javascript" src="extensions/Scrums/web/js/scrums.js"></script>
<link rel="stylesheet" href="extensions/Scrums/web/js/jquery/css/ui-lightness/jquery-ui-1.8.10.custom.css">

<style type="text/css">
  .colA { min-width:190px; }
  .colB { min-width:100px; }
  .colC { min-width: 70px; }
  .colD { min-width: 60px; }
  .colE { min-width: 40px; }
  .colF { min-width: 15px; }
  .sortable table tr td { margin: 0px; padding: 0px; text-align: left; }
  .sortable { text-align: left; background: #eeeeee; }

  .sortable li { background: #eeeeee; margin: 5px; padding: 5px; width: 680px; }
  .disabled { list-style-type: none; margin: 0; padding: 0; float: left; margin-right: 10px; background: #ffffff; padding: 5px; width: 700px; text-align: left; }
  .disabled li { background: #eeeeee; margin: 3px; padding: 5px; font-size: 1em; width: 680px; }
  .number { background: #eee; color: #000000; border: 1px solid #dddddd;  }
  .content { text-align: center; }
  h3 { text-align: center; }

  .bz_title_container {
    margin: 8px 0; 
    padding: 0.3em; 
    background-color: rgb(208, 208, 208); 
    -moz-border-radius: 0.5em; 
    font-size: 125%; 
    font-weight: bold;
  }

.helper td {
    border: 1px;
    background-color: #404d6c;
}

</style>


<style>

table.dataTable {
    margin: 0;
    padding: 0;
}


table.dataTable td {
    position: relative;
    margin: 0;
    height: 35px;
    border-top: 1px solid #999;
    padding: 2px 3px 3px 4px;
}

/* This makes the scrolling table work */

div.scrollTableContainer {
    height: 445px;  
    overflow: auto;
    margin: 15px 0 0 0;
    width: 90%;
    border: 1px solid #ddd;
}

div.autoheight {
    height: auto;
}

/*http://rcs-comp.com/blog/scrolling_table/*/

/* The different widths below are due to the way the scroll bar is implamented
we are keeping these here instead of putting them in the IE css file b/c it 
is easier to change the width if both numbers are in the same place. */

/* All browsers accept this, but we are targeting IE with this rule */
div.scrollTableContainer table {
  width: 100%;  /*100% of container produces horiz. scroll in Mozilla*/
  border: none;
  border-spacing: 0px;
  background-color: transparent;

}

/* Modern browsers accept this (not IE) and we are targetting firefox */
html>/**/body div.scrollTableContainer table {
}

/* Modern browsers accept this (not IE) and we are targetting firefox */
html>/**/body div.scrollTableContainer table>tbody  {  
    overflow: auto; 
    max-height: 410px;
   /* height: 410px; */
    overflow-x: hidden;
}

table>tbody tr {
  height: auto;
}

div.scrollTableContainer thead tr   {
    top: 0px;/*expression(offsetParent.scrollTop); IE5+ only*/
    position:relative;
}

/*prevent Mozilla scrollbar from hiding cell content*/
div.scrollTableContainer td:last-child {padding-right: 2px;}
</style>

<script id="ReleaseBugLiTmpl" type="text/html">
      <tr id="<#= bug[0] #>" bug_order_nr='<#= counter #>'>
        <td class="colF"><span class="number"><#= counter #></span></td>
        <td class="colD"><a href="show_bug.cgi?id=<#= bug[0] #>"><#= bug[0] #></a></td>
        <td class="colC"> <#= bug[1] #></td>
        <td class="colD"> <#= bug[2] #></td>
        <td class="colA"> <#= bug[3] #></td> 
        <td class="colB"> <a href="page.cgi?id=scrums/createteam.html&teamid=<#= bug[6] #>"><#= bug[4] #></a></td>
        <td> <a href="page.cgi?id=scrums/sprintburndown.html&sprintid=<#= bug[7] #>"><#= bug[5] #></a></td>
      </tr>
  </li>
</script>

<script id="TeamBugLiTmpl" type="text/html">
      <tr id="<#= bug[0] #>" bug_order_nr='<#= counter #>'>
        <td class="colF sortable"> <span class="number"><#= counter #></span></td>
        <td class="colD sortable"> <a href="show_bug.cgi?id=<#= bug[0] #>"><#= bug[0] #></a></td>
        <td class="colF sortable"> <#= bug[1] #></td>
        <td class="colC sortable"> <#= bug[2] #></td>
        <td class="colA sortable"> <#= bug[3] #></td>
        <td title="<#= bug[5] #>" class='sortable'> <#= bug[4] #></td>
      </tr>
</script>

<script id="BugLiTmpl" type="text/html">
  <li id="<#= bug[0] #>" bug_order_nr='<#= counter #>'><span class="number"><#= counter #></span> <span><a href="show_bug.cgi?id=<#= bug[0] #>"><#= bug[0] #></a> <#= bug[1] #> <#= bug[2] #> <#= bug[3] #> <#= bug[4] #></span></li>
</script>

<script id="ListTmpl" type="text/html">
  <h3 id="<#= list.h_id #>"><#= list.name #></h3>

  <div class='content' >
    <div class='scrollTableContainer' id='container'>
      <table class="dataTable" cellspacing="0">
        <thead id="mythead">
          <tr>
            <th class='sortable'>Priority</th><th class="sortable colF">[% field_descs.bug_id %]</th><th class="sortable colF">[% field_descs.remaining_time %]</th><th class="sortable colF">[% field_descs.bug_status %]</th><th class="sortable colF">[% field_descs.assigned_to %]</th><th class="sortable colF">[% field_descs.short_desc %]</th>
          </tr>
        </thead>
        <tbody id="<#= list.ul_id #>" class="connectedSortable sortable">
        </tbody>
      </table>
    </div>
  </div>
</script>

<script id="ReleaseListTmpl" type="text/html">
  <h3 id="<#= list.h_id #>"><#= list.name #></h3>

  <div class='content'>
    <p>
      <input type='button' value='Previous' OnClick='move_list_left("<#= list.id #>");'/>
      <#= extra_middle #>

      <input type='button' value='Next' OnClick='move_list_right("<#= list.id #>");'/>

      Show
      <select id="<#= list.id #>" onchange='select_step("<#= list.id #>");'>
        <option selected="selected">10</option>
        <option>20</option>         
        <option>50</option>         
        <option>All</option>                                
      </select>
      (<span id='items_<#= list.id #>'></span>)
    </p>

    <table>
      <thead>
        <tr><th class='sortable'>Priority</th><th class='sortable' class="colF">[% field_descs.bug_id %]</th><th class='sortable' class="colF">[% field_descs.bug_status %]</th><th class='sortable' class="colF">[% field_descs.bug_severity %]</th><th class='sortable' class="colF">[% field_descs.short_desc %]</th><th class='sortable' class="colF">Team</th><th class='sortable' class="colF">Sprint</th></tr>
      </thead>
      <tbody id="<#= list.ul_id #>" class="connectedSortable sortable">
      </tbody>
    </table>

  </div>
</script>

<script id="StaticTmpl" type="text/html">
  <h3 id="<#= list.h_id #>"><#= list.name #></h3>

  <div class='content'>
    <p>
      <input type='button' value='Previous' OnClick='move_list_left("<#= list.id #>");'/>
      <#= extra_middle #>
      <input type='button' value='Next' OnClick='move_list_right("<#= list.id #>");'/>
      Show
      <select id="<#= list.id #>" onchange='select_step("<#= list.id #>");'>
        <option selected="selected">10</option>
        <option>20</option>         
        <option>50</option>         
        <option>All</option>                                
      </select>
    </p>

    <table>
      <tbody id="<#= list.ul_id #>" class="connectedSortable sortable">
      </tbody>
    </table>

    <br />

    <a href="page.cgi?id=scrums/sprintburndown.html&sprintid=<#= list.id #>">Burndown Chart</a><br>
  </div>
</script>
